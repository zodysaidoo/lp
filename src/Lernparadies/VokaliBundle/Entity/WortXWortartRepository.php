<?php

namespace Lernparadies\VokaliBundle\Entity;

use Doctrine\Common\Proxy\Exception\InvalidArgumentException;
use Doctrine\ORM\EntityRepository;
use Lernparadies\LernparadiesBundle\Entity\Sprache;
use Lernparadies\VokaliBundle\Entity\Wort;
use Lernparadies\VokaliBundle\Entity\Wortart;
use Lernparadies\VokaliBundle\Entity\Flexionsart;

/**
 * WortXWortartRepository
 *
 * This class was generated by the Doctrine ORM. Add your own custom
 * repository methods below.
 */
class WortXWortartRepository extends EntityRepository
{
    /**
     * @var \Lernparadies\VokaliBundle\Entity\WortXWortart
     */
    protected $wortXWortart;

    public function getWortXWortart(){
        return $this->wortXWortart;
    }

    public function createWort( $wort = null, $wortart = null, $sprache = null ){
        $this->wortXWortart = new WortXWortart();
        if($wort){
            $this->setWort($wort);
        }
        if($wortart){
            $this->setWortart($wortart);
        }
        if($sprache){
            $this->setSprache($sprache);
        }
    }

    /**
     * @param $wort
     */
    public function setWort( $wort ){
        $this->wortXWortart->setWort($this->getEntityManager()->getRepository('LernparadiesVokaliBundle:Wort')->findAndSaveIfNew($wort));
    }

    /**
     * @param $wortart
     */
    public function setWortart( $wortart ){
        $this->wortXWortart->setWortart($this->getEntityManager()->getRepository('LernparadiesVokaliBundle:Wortart')->findWortart($wortart));
    }

    /**
     * @param $sprache
     */
    public function setSprache( $sprache ){
        $this->wortXWortart->setSprache($this->getEntityManager()->getRepository('LernparadiesLernparadiesBundle:Sprache')->findSprache($sprache));
    }

    /**
     * @param $wort
     * @param Flexionsart $flexionsart
     */
    public function setFlexion( $wort, Flexionsart $flexionsart ){
        $this->getEntityManager()->getRepository('LernparadiesVokaliBundle:WortWortartXFlexion')->createNew();
        $this->getEntityManager()->getRepository('LernparadiesVokaliBundle:WortWortartXFlexion')->setWort($wort);
        $this->getEntityManager()->getRepository('LernparadiesVokaliBundle:WortWortartXFlexion')->setFlexionsart($flexionsart);
        $this->wortXWortart->addFlexionen(
            $this->getEntityManager()->getRepository('LernparadiesVokaliBundle:WortWortartXFlexion')->save()
        );
    }
    public function save(){
        $this->getEntityManager()->persist($this->wortXWortart);
    }
}
